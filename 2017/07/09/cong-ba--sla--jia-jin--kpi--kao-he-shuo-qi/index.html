<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="技术分享 | Node.js | kubernetes | ansible | Docker | DevOps | 思维与认知"><title>从把 SLA 加进 KPI 考核说起 | 须臾之学</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-91452326-1','auto');ga('send','pageview');
</script><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 5.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">从把 SLA 加进 KPI 考核说起</h1><a id="logo" href="/.">须臾之学</a><p class="description">别瞎想，多走走，多看书</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">从把 SLA 加进 KPI 考核说起</h1><div class="post-meta">2017-07-09<span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 1.5k</span><span class="post-meta-item-text"> 字</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i><span class="post-count"> 5</span><span class="post-meta-item-text"> 分钟</span></span></span></div><div class="post-content"><p>最近公司的领导开始重视服务器的稳定性了。</p>
<p>这是件好事: 因为受到重视，意味着这方面有领导关心跟过问了，对于提高服务器稳定性，大家也都会有更多的压力与动力去做好；这又是件坏事：毕竟是由于历史上出过问题，才导致的，也就是说，之前大家做得不好。</p>
<p>SLA 这个数值很有意义：让大家对服务水平进行承诺，对于公司的减少损失很有帮助。只是对我来说，这件事本身让我有些反感：上级想把 SLA 写到 KPI 每月考核里面，且不说 KPI 考核对于创造性从业者的各种伤害，单是每个月将服务器稳定性加入每月考核 KPI，就有些不合理了。</p>
<h3 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h3><p>开始说之前，先说下背景：</p>
<ol>
<li> 上级想要达到每个月 SLA 99.7%，也就是说每个月最多服务不可用时间不得超过 2.16 个小时；</li>
<li> 当前没有给出任何成本预算；</li>
<li> 运维与开发一起背这个 KPI，但是责任要分开；</li>
<li> 对于 SLA 的细节没有清晰制定，而目前对于不可用时间，包括但不限于：网络问题、CDN 问题、服务器宕机、客户端 API 平均响应时长超过 5 秒、API 请求错误率超过 4%；</li>
</ol>
<p>显然，这是我们的责任所在，我们必须要达到上级想要达到的稳定性方案，只是这种方式并不合理：</p>
<p>首先，<strong>制度不合理</strong>：这是一种只见树木而不见森林的做法，假如这个政策制定下来，我们会做什么？显然，稳定大于一切，其中包括各种产品创新，也就意味着开发以及运维会本能排斥任何变动，不敢也不愿做任何大的改动。而当他们遇到问题的时候，相关的责任人可能会尝试隐瞒事故，不让上级跟同事知晓，给以后造成以后更大问题埋下隐患。同时，开发与运维责任分开，会造成以后的互相扯皮、推卸责任，留下不信任与不配合的裂痕。</p>
<p>其次，<strong>时间周期不合理</strong>：举个我们十分不愿意出现的情况，假如接下来一年中，只有一个月的某一天出了个 12 小时问题，而其他月份没有问题，是不是意味着那个月大家的工资都要被扣完了，而其它几个月，我们什么都不用做就能拿奖金？那 KPI 的意义何在？再比如，今年每一个月的 SLA 都只有 99%，而我们花了十个月的功夫，积极解决问题，适应变化，将来年的 SLA 达到了 99.99%，那是不是意味着，今年大家都要在不开心的情况下度过了？</p>
<p>再其次，<strong>责任范围不合理</strong>：服务器稳定性不是单独的开发与运维能够完全决定的：公司内部所有人员的素质，流程规范程度以及投入的成本都能影响结果。换句话说，SLA 完全体现了整个公司的服务水平，也需要大家共同承担。</p>
<p>最后，<strong>成本投入不合理</strong>：防范错误也需要成本，99.7% 看起来固然不高，但是到了这个程度，每提高一个千分点，都意味着背后异常艰辛的努力，以及公司各种资源的投入。</p>
<h3 id="应该如何做"><a href="#应该如何做" class="headerlink" title="应该如何做"></a>应该如何做</h3><p><strong>积极处理</strong>：我认为之前的 Gitlab 的删库事件给了我们一个非常好的启示，<strong>尽快将问题暴露出来，积极处理，及时同步给公众，结果不仅非常迅速地恢复了服务，更赢得了公众的认可与信任。</strong></p>
<p><strong>共同努力</strong>：我们相信，这个 SLA 是公司里面大家互相配合与共同协作才能达到的结果，因此我们需要在内部创造一种文化：鼓励大家积极创新，快速恢复，为提高服务水平而共同努力。</p>
<p><strong>系统思考</strong>：公司是一个整体，制定考核指标的时候很容易陷入局部最优，<strong>『把一头大象分两半不会得到两头大象』</strong>，从整体上分析 SLA 在公司的位置更容易知道如何制定合理的考核指标。</p>
<h3 id="最终方案"><a href="#最终方案" class="headerlink" title="最终方案"></a>最终方案</h3><p>毕竟我们需要承担责任，KPI 也不能完全说不好，针对于上级对于稳定性的要求，我们采取了以下方案：</p>
<ul>
<li>  规划：我们接受 SLA 作为半年度考核指标，并且对当前所有的稳定性风险进行分析，看看那些地方能改进，以半年为周期，制定目标，进行改进；</li>
<li>  记录：记录所有的稳定性问题，给出每一次问题的分析报告；</li>
<li>  行动：对于所有的改进方案，分配到所有的责任人身上，并按周以及月进行总结汇报；</li>
<li>  回顾会议：以季度跟半年为单位，在会上回顾我们发生了那些线上问题，采取了什么方案，效果如何，接下来我们应该怎么做，对做的好的地方如何保持，而差的地方如何改进等等；</li>
</ul>
<h3 id="以-Netflix-企业文化中的一段话结尾"><a href="#以-Netflix-企业文化中的一段话结尾" class="headerlink" title="以 Netflix 企业文化中的一段话结尾"></a>以 Netflix 企业文化中的一段话结尾</h3><blockquote>
<p>In general, freedom and rapid recovery is better than trying to prevent error. We are in a creative business, not a safety-critical business. Our big threat over time is lack of innovation, so we should be relatively error tolerant. Rapid recovery is possible if people have great judgment. The seduction is that error prevention just sounds so good, even if it is often ineffective. We are always on guard if too much error prevention hinders inventive, creative work. </p>
</blockquote>
<h3 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h3><ol>
<li> <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Service-level_agreement">https://en.wikipedia.org/wiki/Service-level_agreement</a></li>
<li> <a target="_blank" rel="noopener" href="https://jobs.netflix.com/culture">https://jobs.netflix.com/culture</a></li>
</ol>
<hr>
<p>首发于 Github issues: <a target="_blank" rel="noopener" href="https://github.com/xizhibei/blog/issues/53">https://github.com/xizhibei/blog/issues/53</a> ，欢迎 Star 以及 Watch</p>
<b>本文采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">署名-非商业性使用-相同方式共享（BY-NC-SA）</a>进行许可</b>
<br/>
<b>作者：<a href="https://blog.xizhibei.me/about/" target="_blank">习之北 (@xizhibei)</a></b>
<br/>
<b>原链接：<a href="https://blog.xizhibei.me/2017/07/09/cong-ba--sla--jia-jin--kpi--kao-he-shuo-qi/" target="_blank">https://blog.xizhibei.me/2017/07/09/cong-ba--sla--jia-jin--kpi--kao-he-shuo-qi/</a></b>
<br/>

<hr>
</div><script type="text/javascript" src="/js/share.js?v=1.0.0" async></script><a class="article-share-link" data-url="https://blog.xizhibei.me/2017/07/09/cong-ba--sla--jia-jin--kpi--kao-he-shuo-qi/" data-id="cko5wqfnq001y36sh06si8s5l" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACrklEQVR42u3aQY7jMAwEwPn/p2cfEChukmImWJRPRuzEKh0spqmfn/j4fTler57O33/r9fPTd093Xjjw8PDwxkN//blkKKc78/PT1WTijiPEw8PDW+Mlg75LvbX8PFjw8PDwvoZXZb/HvL8HDw8P7//g5SV4tUCvluZ4eHh4f8VLBtRLSvNh9Yr1a1kLHh4eXszLy9/vOV/p7+Hh4eGNu+r5C7e3daAa4JZHi4eHh7fAy1+4k01Xk8ZYtVzGw8PD+wwv/9FqXDsv0HtxMB4eHt4eb15Av/8kaWL1GFE7DQ8PD2+ZV23YV0lJ0Zz/ThR54OHh4S3wClV20MLPQ4F8KarGHz/5aoaHh4c35vUWhnm7K5+4PAp5WB7w8PDwBrzeH/68yJ4X4vnEPXT28PDw8D7Iq7b5q+38ZNXqLTN4eHh4n+FNwtzq6zvfZFANI44lNR4eHt5V3t0H5AFrNNDepOPh4eH9ES9hz6ep2hJLinU8PDy8Dd4kTs2bZ9WgYb4RAQ8PD2+P1xt6L9hNtgJUo+GHKcbDw8Nb5s2L4GqY25vEwnPx8PDwPsKbN7d64cWtJeRYUuPh4eFd5VWjh41IonpnNB48PDy8BV7UgC8W2fPp64XLx8UJDw8Pb42XRw/J1FRL7UkY8TBleHh4eGu8SWSQb5zKY9/JeWH+8PDw8C7x8k1R+eCqy0++TeHhHjw8PLw13qRBVY0P5puukmAXDw8Pb4P3WzyqW6aaLatgOqKreHh4eAu86qs231gwX05GTa/eSoKHh4cX8yYRwK1X83zhOV7Fw8PDW+Plj8xb+9VFpRdDPEwNHh4e3pfxqtFttXzPN3Id78fDw8P7At4klp0vNvkGLzw8PLxtXhJG3GpZTYKMJIzAw8PD2+ZV//BXH5lPYu+XLxx4eHh4Ke8f8QK7YH/peO8AAAAASUVORK5CYII=">分享</a><div class="tags"><a href="/tags/%E4%BC%81%E4%B8%9A%E6%96%87%E5%8C%96/"><i class="fa fa-tag"></i>企业文化</a><a href="/tags/%E6%B2%9F%E9%80%9A/"><i class="fa fa-tag"></i>沟通</a><a href="/tags/%E7%B3%BB%E7%BB%9F%E6%80%9D%E8%80%83/"><i class="fa fa-tag"></i>系统思考</a></div><div class="post-nav"><a class="pre" href="/2017/08/06/monitoring-with-prometheus/">监控利器之 Prometheus</a><a class="next" href="/2017/07/08/cong-shu-ju-chu-li-jiao-ben-dao-ren-ji-gou-tong/">从数据处理脚本到人际沟通</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://blog.xizhibei.me"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/%E6%96%87%E6%A1%A3/" style="font-size: 15px;">文档</a> <a href="/tags/%E6%80%BB%E7%BB%93/" style="font-size: 15px;">总结</a> <a href="/tags/%E8%81%8C%E5%9C%BA/" style="font-size: 15px;">职场</a> <a href="/tags/C-C/" style="font-size: 15px;">C/C++</a> <a href="/tags/CMake/" style="font-size: 15px;">CMake</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/%E9%89%B4%E4%B9%A6/" style="font-size: 15px;">鉴书</a> <a href="/tags/%E6%97%85%E8%A1%8C/" style="font-size: 15px;">旅行</a> <a href="/tags/%E7%94%9F%E6%B4%BB/" style="font-size: 15px;">生活</a> <a href="/tags/%E8%A7%86%E9%A2%91%E7%9B%B4%E6%92%AD/" style="font-size: 15px;">视频直播</a> <a href="/tags/MongoDB/" style="font-size: 15px;">MongoDB</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 15px;">数据库</a> <a href="/tags/%E7%9B%91%E6%8E%A7/" style="font-size: 15px;">监控</a> <a href="/tags/%E9%87%8D%E6%9E%84/" style="font-size: 15px;">重构</a> <a href="/tags/DevOps/" style="font-size: 15px;">DevOps</a> <a href="/tags/ELK/" style="font-size: 15px;">ELK</a> <a href="/tags/Elasticsearch/" style="font-size: 15px;">Elasticsearch</a> <a href="/tags/Golang/" style="font-size: 15px;">Golang</a> <a href="/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" style="font-size: 15px;">基础知识</a> <a href="/tags/Node-js/" style="font-size: 15px;">Node.js</a> <a href="/tags/TypeScript/" style="font-size: 15px;">TypeScript</a> <a href="/tags/gRPC/" style="font-size: 15px;">gRPC</a> <a href="/tags/%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/" style="font-size: 15px;">年度总结</a> <a href="/tags/RabbitMQ/" style="font-size: 15px;">RabbitMQ</a> <a href="/tags/%E6%9E%B6%E6%9E%84/" style="font-size: 15px;">架构</a> <a href="/tags/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/" style="font-size: 15px;">系统设计</a> <a href="/tags/kubernetes/" style="font-size: 15px;">kubernetes</a> <a href="/tags/%E5%B7%A5%E4%BD%9C%E6%96%B9%E6%B3%95/" style="font-size: 15px;">工作方法</a> <a href="/tags/%E4%BC%81%E4%B8%9A%E6%96%87%E5%8C%96/" style="font-size: 15px;">企业文化</a> <a href="/tags/Docker/" style="font-size: 15px;">Docker</a> <a href="/tags/ansible/" style="font-size: 15px;">ansible</a> <a href="/tags/Gitlab/" style="font-size: 15px;">Gitlab</a> <a href="/tags/%E6%B5%8B%E8%AF%95/" style="font-size: 15px;">测试</a> <a href="/tags/%E6%B2%9F%E9%80%9A/" style="font-size: 15px;">沟通</a> <a href="/tags/%E7%B3%BB%E7%BB%9F%E6%80%9D%E8%80%83/" style="font-size: 15px;">系统思考</a> <a href="/tags/Prometheus/" style="font-size: 15px;">Prometheus</a> <a href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" style="font-size: 15px;">微服务</a> <a href="/tags/%E5%88%9B%E4%B8%9A/" style="font-size: 15px;">创业</a> <a href="/tags/C-x2F-C/" style="font-size: 15px;">C&#x2F;C++</a> <a href="/tags/Angular/" style="font-size: 15px;">Angular</a> <a href="/tags/redis/" style="font-size: 15px;">redis</a> <a href="/tags/%E4%B8%9A%E5%8A%A1/" style="font-size: 15px;">业务</a> <a href="/tags/Helm/" style="font-size: 15px;">Helm</a> <a href="/tags/%E9%85%8D%E7%BD%AE/" style="font-size: 15px;">配置</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/%E7%AE%A1%E7%90%86/" style="font-size: 15px;">管理</a> <a href="/tags/%E5%AE%89%E5%85%A8/" style="font-size: 15px;">安全</a> <a href="/tags/Ubuntu/" style="font-size: 15px;">Ubuntu</a> <a href="/tags/HTTPS/" style="font-size: 15px;">HTTPS</a> <a href="/tags/%E5%8F%8D%E7%88%AC%E8%99%AB/" style="font-size: 15px;">反爬虫</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 15px;">工具</a> <a href="/tags/%E6%8B%9B%E8%81%98/" style="font-size: 15px;">招聘</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 15px;">面试</a> <a href="/tags/MySQL/" style="font-size: 15px;">MySQL</a> <a href="/tags/%E8%AF%BB%E4%B9%A6/" style="font-size: 15px;">读书</a> <a href="/tags/PGP/" style="font-size: 15px;">PGP</a> <a href="/tags/%E7%BF%BB%E8%AF%91/" style="font-size: 15px;">翻译</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/05/01/linux-time-hwclock/">Linux 时间之 hwclock</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/03/28/netflix-no-rules-rules/">不拘一格的网飞</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/03/22/engineer-s-tsundere/">工程师的傲骄</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/12/cmake-shared-lib-absolute-path-problem/">CMake 动态链接库绝对路径问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/12/a-brief-intro-of-rpath/">RPATH 简介以及 CMake 中的处理</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/03/https-two-way-authentication-with-certificates/">HTTPS 双向证书认证</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/01/10/poor-mans-profiler/">穷人的程序性能分析器</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/01/01/summary-of-2020/">2020 总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/12/20/a-simple-implementation-of-rtsp-server/">RTSP 服务器的简单实现</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/11/21/disk-cache-start-with-a-file-missing-problem/">磁盘缓存：从一次文件丢失问题说起</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2021 <a href="/." rel="nofollow">须臾之学.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js" successtext="复制成功!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>